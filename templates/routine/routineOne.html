{% extends 'base.html' %}
{% block content %}
<div class="container w-75 mt-3">
    {% if routine_list %}
    {% if routine_result_list %}
    {% if routine_day_list %}
    <table class="table">
        <thead>
            <tr style="text-align: center;">
                <th scope="col">TITLE</th>
                <th scope="col">GOAL</th>
                <th scope="col">DAY</th>
                <th scope="col">RESULT</th>
            </tr>
        </thead>
        <tbody>
            <tr style="text-align: center;">
                <td>{{ routine_list.title }}</td>
                <td>{{ routine_list.goal }}</td>
                <td>
                {% for routine_day in routine_day_list %}
                    <span>{{ routine_day.day }}, </span>
                {% endfor %}
                </td>
                <td>
                    <form action="{% url 'routine:updateResult' routine_list.pk %}" method="post">
                        {% csrf_token %}
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="result" id="RadioNot" value="NOT">
                            <label class="form-check-label" for="RadioNot">NOT(안 함)</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="result" id="RadioTry" value="TRY">
                            <label class="form-check-label" for="RadioTry">TRY(시도)</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="result" id="RadioDone" value="DONE">
                            <label class="form-check-label" for="RadioDone">DONE(완료)</label>
                        </div>
                        <button type="submit" class="btn btn-primary">저장</button>
                    </form>
                </td>
            </tr>
    {% endif %}
    {% endif %}
    {% endif %}  
        </tbody>
    </table>
    <div style="text-align: center;">
        <a href="{% url 'routine:readAll' %}" class="btn btn-primary">내 일정 목록으로 가기</a>
    </div>
</div>
{% endblock %}
{% block script %}
<script type='text/javascript'>
    let result = document.querySelectorAll('[name=\'result\']') // radio
    result.forEach(re=>{
        if(re.value == '{{ routine_result_list.result }}') {
            re.checked = true;
        }
    })
</script>
{% endblock %}